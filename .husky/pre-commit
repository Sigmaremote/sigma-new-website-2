#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run schema validation before commit
echo "ğŸ” Validating SEO/LLMO structure..."

# Check for em dashes
if grep -r '[â€”â€“]' --include='*.ts' --include='*.tsx' --include='*.md' --include='*.mdx' .; then
  echo "âŒ Found em dashes (â€” or â€“) in content. Please replace with regular hyphens (-)."
  echo "Run: npm run check:typography"
  exit 1
fi

# Validate schema structure
if ! npm run validate:schema; then
  echo "âŒ Schema validation failed. Please fix schema issues before committing."
  exit 1
fi

echo "âœ… All validations passed - proceeding with commit"
